//! capataz-inveniemus 0.0.1

(function(a){"use strict";"function"==typeof define&&define.amd?define(["creatartis-base","sermat","capataz","inveniemus"],a):"object"==typeof exports&&module.exports?module.exports=a(require("creatartis-base"),require("sermat"),require("capataz"),require("inveniemus")):this.Sermat=a(this.base,this.Sermat,this.capataz,this.undefined)}).call(this,function a(b,c,d,e){"use strict";var f=b.raiseIf;c.modifiers.mode=c.CIRCULAR_MODE;var g={__package__:"capataz-inveniemus",__name__:"capataz_inveniemus",__init__:a,__dependencies__:[b,c,d,e]};return g.capataz=d,g.inveniemus=e,g.distributeEvaluation=function(){function a(a){return(""+function(a,c){return sermat.include(b),c=sermat.mat(c),c.evaluate()}).replace("$imports",a.join(", "))}function d(b){b=Object.assign({keepRunning:!1},b),b.jobPrototype=Object.assign({imports:["sermat","inveniemus"]},b.jobPrototype),b.jobPrototype.fun=b.jobPrototype.fun||a(b.jobPrototype.imports),f("object"!=typeof b.jobPrototype,"Invalid `jobPrototype`!"),f(!Array.isArray(b.jobPrototype.imports),"Invalid `jobPrototype.imports`!");var c=b.jobPrototype.fun;return f("function"!=typeof c&&"string"!=typeof c,"Invalid `jobPrototype.fun`!"),b}function e(a,b,d){return function(){var e=this;return a.schedule({info:this.emblem(),fun:d,imports:b,args:[c.ser(this)]}).then(function(a){return e.evaluation=a,a})}}return function(a){function b(){return g||(c.logger.info("Stopping server."),setTimeout(process.exit,10)),f}a=d(a);var c=a.server,f=a.mh;f.problem.Element.prototype.evaluate=e(a.server,a.jobPrototype.imports,a.jobPrototype.fun),f.events.on("advanced",function(){var a=f.statistics.stat({key:"evaluation",step:f.step}),b=f.state[0];c.logger.info("Advanced to step #"+f.step+". Evaluations "+a.minimum()+" < "+a.average()+" < "+a.maximum()+". Best so far: "+b.emblem()+".")});var g=!!a.keepRunning;return f.run().then(function(){return c.logger.info("Finished."),b()},function(a){return c.logger.error(a+""),b()})}}(),g});
//# sourceMappingURL=capataz-inveniemus.min.js.map