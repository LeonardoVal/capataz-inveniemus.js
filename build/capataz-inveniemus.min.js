//! capataz-inveniemus 0.0.2

(function(e){"use strict";"function"==typeof define&&define.amd?define(["creatartis-base","sermat","capataz","inveniemus"],e):"object"==typeof exports&&module.exports?module.exports=e(require("creatartis-base"),require("sermat"),require("capataz"),require("inveniemus")):this["capataz-inveniemus"]=e(this.base,this.Sermat,this.capataz,this.inveniemus)}).call(this,function e(n,t,r,i){"use strict";var a=n.raiseIf,s={__package__:"capataz-inveniemus",__name__:"capataz_inveniemus",__init__:e,__dependencies__:[n,t,r,i]};return s.capataz=r,s.inveniemus=i,s.distributeEvaluation=function(){return function(e){var n=(e=function(e){return e=Object.assign({problemDependencies:[],fun:"function (problem, element) {\n\treturn problem.evaluation(element);\n}",keepRunning:!1},e),a("object"!=typeof e.server,"Invalid `server`!"),a("object"!=typeof e.mh,"Invalid `metaheuristics`!"),a("function"!=typeof e.problemBuilder,"Invalid `problemBuilder`!"),a(!Array.isArray(e.problemDependencies),"Invalid `problemDependencies`!"),a("function"!=typeof e.fun&&"string"!=typeof e.fun,"Invalid `jobPrototype.fun`!"),e}(e)).server,r=e.mh,s=r.problem;s||(s=e.problemBuilder.apply(null,e.problemDependencies.map(require)),r.problem=s),n.__serveRequireModule__(e.problemBuilder,"problem",e.problemDependencies),n.__serveNodeModule__(i),s.Element.prototype.evaluate=function(e){var n=e.server,r="function () {\n\tvar Sermat = arguments[0],\n\t\tinveniemus = arguments[1];\n\tSermat.include(base);\n\targuments[arguments.length-1] = Sermat.mat(arguments[arguments.length-1]);\n\treturn ("+e.fun+").apply(this, Array.prototype.slice.call(arguments, 2));\n}";return function(){var e=this;return n.schedule({info:this.emblem(),imports:["sermat","inveniemus","problem"],args:[t.ser(this,{mode:t.CIRCULAR_MODE})],fun:r}).then(function(n){return e.evaluation=Array.isArray(n)?n:isNaN(n)?null:[+n],n})}}(e),r.events.on("advanced",function(){var e=r.statistics.stat({key:"evaluation",step:r.step}),t=r.state[0];n.logger.info("Advanced to step #"+r.step+". Evaluations "+e.minimum()+" < "+e.average()+" < "+e.maximum()+" (stddev: "+e.standardDeviation()+")."),n.logger.info("\tBest so far: "+t.emblem()+".")});var u=!!e.keepRunning;function o(){return u||(n.logger.info("Stopping server."),setTimeout(process.exit,10)),r}return r.run().then(function(){return n.logger.info("Finished."),o()},function(e){return n.logger.error(e+""),o()})}}(),s});
//# sourceMappingURL=capataz-inveniemus.min.js.map